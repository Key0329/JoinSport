import{J as L}from"./JoinCardRow-7e997068.js";import{L as w}from"./LeafletMap-e974574a.js";import{_ as x,H as P,s as g,a as c,b as o,d as n,F as A,E as C,t as I,r as i,o as l,w as b}from"./index-2b61388a.js";import{j as u}from"./joinActivitiesStore-f6486f62.js";import{P as k}from"./PaginationComponent-11b70311.js";import"./leaflet-src-9a9c854c.js";const v={name:"JoinListNewView",components:{JoinCardRow:L,LeafletMap:w,PaginationComponent:k},data(){return{userId:null,currentPage:1}},computed:{...P(u,["availableActivities"]),hotActivitiesList:({availableActivities:s,arrangePage:d})=>{const p=s.filter(t=>t.isCancelled===!1).sort((t,a)=>{const r=new Date(t.updateDate);return new Date(a.updateDate)-r});return d(p)}},methods:{...g(u,["getOrders","getActivities","changePage","arrangePage"]),...g(I,["getUserId"])},watch:{$route(s){this.currentPage=s.params.page,this.changePage(s.params.page)}},mounted(){this.getActivities(),this.getOrders(),this.changePage(this.$route.params.page),this.userId=this.getUserId()}},J={class:"pt-4 pb-20 md:pt-10"},B={class:"container"},D=o("h2",{class:"mb-6 text-center text-2xl md:mb-10 md:text-start"},"最新揪團",-1),N={class:"grid md:grid-cols-12 lg:gap-0"},j={class:"col-span-7 flex flex-col gap-6"},V={class:"sticky top-[286px] col-span-4 col-end-13 hidden h-[400px] md:flex"};function M(s,d,_,p,t,a){const r=i("PaginationComponent"),m=i("join-card-row"),h=i("RouterLink"),f=i("LeafletMap");return l(),c("section",J,[o("div",B,[D,n(r,{currentPage:t.currentPage,pageTotal:a.hotActivitiesList.pageTotal,pageUrl:"/JoinList/New/",class:"mb-4"},null,8,["currentPage","pageTotal"]),o("div",N,[o("ul",j,[(l(!0),c(A,null,C(a.hotActivitiesList.list,e=>(l(),c("li",{key:e==null?void 0:e.id},[n(h,{to:`/JoinDetail/id=${e==null?void 0:e.id}`},{default:b(()=>[n(m,{userId:t.userId,activity:e},null,8,["userId","activity"])]),_:2},1032,["to"])]))),128))]),o("aside",V,[n(f,{mapActivities:a.hotActivitiesList.list},null,8,["mapActivities"])])])])])}const O=x(v,[["render",M]]);export{O as default};
