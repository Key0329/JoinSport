import{_ as E,H as w,s as k,a,G as D,w as f,F as g,E as A,t as V,b as i,r as b,o,e as I,B as u,d as x}from"./index-2b61388a.js";import{j as y}from"./joinActivitiesStore-f6486f62.js";import{J as v}from"./JoinCardRow-7e997068.js";const{VITE_URL:B}={VITE_URL:"https://join-sport-server-vercel.vercel.app",VITE_PATH:"key0329",VITE_TEXT:"這是產品的環境",VITE_MAP_KEY:"AIzaSyAScKOJBsEFvLrg4YGx5ticXsBzFYZPATw",VITE_MAP_URL:"https://maps.googleapis.com/maps/api/geocode/json",BASE_URL:"/JoinSport/",MODE:"production",DEV:!1,PROD:!0},R={components:{JoinCardRow:v},data(){return{userId:null,bookmarks:[],filteredArray:[]}},computed:{...w(y,["availableActivities"]),membersActivities(){return this.filteredArray.map(e=>{var h,_;const t=(h=e.date)==null?void 0:h.split("/")[0],s=(_=e.date)==null?void 0:_.split("/")[1],l=new Date().getFullYear(),d=new Date(e.originDate),r=d.getDay(),T=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][r];return{...e,month:parseInt(t,10),day:parseInt(s,10),year:l,dayOfWeekZHTW:T,originTime:d}}).sort((e,t)=>e.originTime-t.originTime).reduce((e,t)=>{const{date:s}=t;return e[s]||(e[s]=[]),e[s].push(t),e},{})}},methods:{...k(y,["getActivities","getOrders"]),...k(V,["getUserId"]),getBookmarks(m){const p=`${B}/bookmarks?isCancelled=false&userId=${m}`;this.$http.get(p).then(c=>{c.data.forEach(t=>{this.availableActivities.forEach(s=>{s.id===parseInt(t.activityId,10)&&(this.filteredArray.push(s),this.bookmarks.push(t))})})}).catch(c=>{console.log(c),alert("err")})}},mounted(){this.getActivities(),this.getOrders(),this.userId=this.getUserId(),this.getBookmarks(this.userId)}},L=i("h1",{class:"mb-12 text-3xl"},"已收藏的揪團",-1),J=i("p",{class:"mb-4 flex items-center text-2xl"},"目前尚無收藏揪團",-1),S=i("p",{class:"flex items-center group-hover:text-primary-01"},[I(" 探索更多揪團活動 "),i("i",{class:"pi pi-search-plus ml-1 text-xs"})],-1),C={key:1},H={key:0,class:"mb-6 border-b pb-4 text-xl"},O={key:1,class:"mb-6 border-b pb-4 text-xl"},U=i("i",{class:"pi pi-calendar text-xl"},null,-1);function W(m,p,c,e,t,s){const l=b("RouterLink"),d=b("JoinCardRow");return o(),a("section",null,[L,t.bookmarks.length===0?(o(),D(l,{key:0,to:"/JoinList/Hot/1",class:"group flex flex-col items-center justify-center py-10"},{default:f(()=>[J,S]),_:1})):(o(),a("ul",C,[(o(!0),a(g,null,A(s.membersActivities,r=>(o(),a("li",{key:r,class:"mb-10"},[r[0].day===parseInt(new Date().getDate(),10)?(o(),a("h3",H," 今天 ")):(o(),a("h3",O,[U,I(" "+u(r[0].dayOfWeekZHTW)+" "+u(r[0].month)+" 月 "+u(r[0].day)+" 日 ",1)])),i("ul",null,[(o(!0),a(g,null,A(r,n=>(o(),a("li",{key:n.id,class:"mb-6"},[x(l,{to:`/JoinDetail/id=${n==null?void 0:n.id}`},{default:f(()=>[x(d,{activity:n},null,8,["activity"])]),_:2},1032,["to"])]))),128))])]))),128))]))])}const Z=E(R,[["render",W]]);export{Z as default};
