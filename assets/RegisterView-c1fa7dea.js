import{F as I}from"./FrontHeader-084f366a.js";import{u as S,r as $,e as x,m as L,c as A}from"./i18n-validators-6bd7b55f.js";import{_ as B,a,d as i,b as s,u as R,D as m,F as u,E as g,B as p,C as b,w as _,r as n,o as r,e as w,z as F,A as M}from"./index-e983c87e.js";import{_ as z}from"./Vector-3-75327fe6.js";import"./avatar01-e06217d0.js";const C="/JoinSport/assets/Mask-group-cb79a82b.png";const{VITE_URL:D}={VITE_URL:"https://join-sport-server-vercel.vercel.app",VITE_PATH:"key0329",VITE_TEXT:"這是產品的環境",VITE_MAP_KEY:"AIzaSyAScKOJBsEFvLrg4YGx5ticXsBzFYZPATw",VITE_MAP_URL:"https://maps.googleapis.com/maps/api/geocode/json",BASE_URL:"/JoinSport/",MODE:"production",DEV:!1,PROD:!0},U=e=>/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e),H={components:{FrontHeader:I},setup:()=>({v$:S()}),data(){return{email:"",password:"",submitted:!1}},validations(){return{email:{required:$,email:x},password:{required:$,minLength:L(8),validatePassword:A.withMessage("請檢查格式是否正確",U)}}},methods:{handleSubmit(e){this.submitted=!0,e&&this.register()},register(){const e={email:this.email,password:this.password,name:"",favoriteSports:[]},o=`${D}/register`;this.$http.post(o,e).then(()=>{this.$toast.add({severity:"success",detail:"註冊成功，返回登入頁面",life:1e3}),setTimeout(()=>{this.$router.push("/login")},1e3)}).catch(v=>{const h=v.response.data;this.$toast.add({severity:"error",detail:`${h} 註冊失敗`,life:1e3,contentStyleClass:"custom-toast-danger"})})}}},d=e=>(F("data-v-0b75b02a"),e=e(),M(),e),N={class:"py-[120px]"},j={class:"container"},q={class:"flex"},J=d(()=>s("div",{class:"relative hidden w-[720px] items-center justify-center md:flex"},[s("img",{class:"h-1/2",src:C,alt:"registerImg"}),s("img",{class:"absolute bottom-[120px] -z-10 h-1/2 opacity-50",src:z,alt:"registerImg"})],-1)),O={class:"flex flex-col items-center pt-[120px]"},Y=d(()=>s("h1",{class:"mb-10 text-3xl"},"註冊會員",-1)),K={class:"mb-10"},X={class:"p-float-label p-input-icon-right"},Z=d(()=>s("i",{class:"pi pi-envelope"},null,-1)),G={key:0},Q={class:"p-error"},W={key:1,class:"p-error block text-end"},ee={class:"mb-4"},se={class:"p-float-label"},te=d(()=>s("h6",null,"請輸入密碼",-1)),oe=d(()=>s("ul",{class:"mt-0 border-t pt-1",style:{"line-height":"1.5"}},[s("li",null,"至少 1 個數字"),s("li",null,"至少 1 個小寫英文字母"),s("li",null,"至少 1 個大寫英文字母"),s("li",null,"最少 8 個字母")],-1)),ae={key:0},re={class:"p-error"},le={key:1,class:"p-error block text-end"},ie=d(()=>s("span",{class:"flex items-center text-sm text-gray-500 group-hover:text-primary-01"},[w(" 會員請登入 "),s("i",{class:"pi pi-external-link ml-1"})],-1));function ne(e,o,v,h,l,f){const V=n("PToast"),y=n("FrontHeader"),k=n("InputText"),P=n("PPassword"),T=n("PButton"),E=n("RouterLink");return r(),a(u,null,[i(V),i(y),s("main",N,[s("div",j,[s("div",q,[J,s("div",O,[Y,s("form",{onSubmit:o[2]||(o[2]=R(t=>f.handleSubmit(!e.v$.$invalid),["prevent"]))},[s("div",K,[s("div",X,[Z,i(k,{id:"email",modelValue:e.v$.email.$model,"onUpdate:modelValue":o[0]||(o[0]=t=>e.v$.email.$model=t),placeholder:"請輸入 Email",class:m(["w-full",{"p-invalid":e.v$.email.$invalid&&l.submitted}]),"aria-describedby":"email-error",autocomplete:"email"},null,8,["modelValue","class"]),s("label",{for:"email",class:m({"p-error":e.v$.email.$invalid&&l.submitted})},"請輸入電子信箱",2)]),e.v$.email.$error&&l.submitted?(r(),a("span",G,[(r(!0),a(u,null,g(e.v$.email.$errors,(t,c)=>(r(),a("span",{id:"email-error",key:c,class:"block text-end"},[s("small",Q,p(t.$message.replace("Value","電子信箱")),1)]))),128))])):e.v$.email.$invalid&&l.submitted||e.v$.email.$pending.$response?(r(),a("small",W,p(e.v$.email.required.$message.replace("Value","電子信箱")),1)):b("",!0)]),s("div",ee,[s("div",se,[i(P,{id:"password",modelValue:e.v$.password.$model,"onUpdate:modelValue":o[1]||(o[1]=t=>e.v$.password.$model=t),class:m({"p-invalid":e.v$.password.$invalid&&l.submitted}),toggleMask:"",inputProps:{autocomplete:"current-password"}},{header:_(()=>[te]),footer:_(t=>[w(p(t.level)+" ",1),oe]),_:1},8,["modelValue","class"]),s("label",{for:"password",class:m({"p-error":e.v$.password.$invalid&&l.submitted})},"請輸入密碼",2)]),e.v$.password.$error&&l.submitted?(r(),a("span",ae,[(r(!0),a(u,null,g(e.v$.password.$errors,(t,c)=>(r(),a("span",{id:"password-error",key:c,class:"block text-end"},[s("small",re,p(t.$message.replace("Value","密碼")),1)]))),128))])):e.v$.password.$invalid&&l.submitted||e.v$.password.$pending.$response?(r(),a("small",le,p(e.v$.password.required.$message.replace("Value","密碼")),1)):b("",!0)]),i(T,{type:"submit",label:"註冊",class:"mt-10 w-full"})],32),i(E,{to:"/login",class:"group mt-2"},{default:_(()=>[ie]),_:1})])])])])],64)}const _e=B(H,[["render",ne],["__scopeId","data-v-0b75b02a"]]);export{_e as default};
