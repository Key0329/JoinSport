import{_ as V,r as H,x as S,o as s,a as i,G as j,b as e,E as r,F as B,A as N,B as l,e as n,z,H as E,w as F,f as T}from"./index-a122773d.js";const A={name:"JoinCardRow",props:{activity:{type:Object},userId:{type:String}},data(){return{imgLoading:!0,isLoading:!0}},computed:{hasJoined(){var a,c;return(c=(a=this.activity)==null?void 0:a.participantsId)==null?void 0:c.includes(parseInt(this.userId,10))},isHost(){var a;return((a=this.activity)==null?void 0:a.userId)===this.userId},isCancelled(){var a;return(a=this.activity)==null?void 0:a.isCancelled}},methods:{onImageLoad(){this.imgLoading=!1}},watch:{activity:{handler(){this.isLoading=!1},immediate:!0}}},G=T('<div class="relative w-full sm:w-1/2"><div class="skeleton flex h-full w-full items-center justify-center rounded-l-[10px]"><i class="pi pi-image text-xl text-gray-500"></i></div></div><div class="w-full rounded-b-[10px] border-x border-b px-3 pt-2 pb-3 sm:border-0"><div class="mb-2 flex items-center justify-between"><h5 class="skeleton h-7 w-full rounded-lg"></h5></div><p class="skeleton mb-4 h-5 w-1/2 rounded-lg"></p><div class="mb-2 flex flex-col gap-2 md:flex-row"><p class="skeleton h-8 w-1/4 rounded-lg px-2 py-1"></p><p class="skeleton h-8 w-1/4 rounded-lg px-2 py-1"></p></div><div class="flex flex-col md:flex-row md:items-end"><div class="mb-2 md:mb-0"><ul class="my-3 flex -space-x-2 overflow-hidden"><li class="skeleton h-9 w-9 rounded-full"></li><li class="skeleton h-9 w-9 rounded-full"></li><li class="skeleton h-9 w-9 rounded-full"></li><li class="skeleton h-9 w-9 rounded-full"></li></ul><div class="flex"><p class="skeleton mr-2 h-5 w-1/2 rounded-lg"></p><p class="skeleton mr-2 h-5 w-1/2 rounded-lg"></p></div></div><p class="skeleton ml-auto h-10 w-1/4 rounded-lg"></p></div></div>',2),O=[G],q={class:"relative w-full sm:w-1/2"},K={key:0,class:"skeleton flex h-full w-full items-center justify-center rounded-l-[10px]"},M=e("i",{class:"pi pi-image text-xl text-gray-500"},null,-1),Q=[M],U=["src"],W={class:"absolute top-3 left-2 flex flex-col flex-wrap gap-1"},X={class:"tag py-1 text-xs hover:text-black"},Y={class:"w-full rounded-b-[10px] border-x border-b px-3 pt-2 pb-3 sm:border-0"},Z={class:"flex items-center justify-between"},$={class:"mb-2 text-lg"},ee={key:0,class:"flex items-center rounded-lg bg-primary-04 px-2 py-1 text-xs text-gray-600"},te=e("i",{class:"pi pi-check mr-1"},null,-1),se={key:1,class:"flex items-center rounded-lg bg-primary-01 px-2 py-1 text-xs text-white"},ie=e("i",{class:"pi pi-user mr-1"},null,-1),le={key:2,class:"flex items-center rounded-lg bg-red-400 px-2 py-1 text-xs text-white"},ae=e("i",{class:"pi pi-user mr-1"},null,-1),oe={class:"mb-4 text-sm text-[#6f6f6f]"},de={class:"mb-2 flex flex-col gap-2 md:flex-row"},ne={class:"flex items-center rounded-full bg-primary-03 py-1 px-2 text-sm text-[#3D3D3D]"},ce=e("span",{class:"material-icons text-primary-01"}," room ",-1),re={class:"flex items-center rounded-full bg-primary-03 py-1 px-2 text-sm text-[#3D3D3D]"},ue=e("span",{class:"material-icons mr-1 text-primary-01"}," schedule ",-1),me={class:"flex flex-col md:flex-row md:items-end"},xe={class:"mb-2 md:mb-0"},_e={class:"my-3 flex -space-x-2 overflow-hidden"},he={key:0,class:"skeleton h-full w-full rounded-full"},pe=["src"],fe={key:0},ve={class:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-400 text-white ring-2 ring-white"},ge={class:"mr-2 text-sm"},ye={class:"text-sm text-red-500"};function we(a,c,t,be,u,o){var x,_,h,p,f,v,g,y,w,b,k,L,D,C,I,J;const P=H("RouterLink"),R=S("ripple");return u.isLoading?(s(),i("div",{key:0,class:j(["group flex h-full flex-col gap-4 rounded-[10px] bg-white shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-100 ease-in-out hover:shadow-[0_0_10px_rgba(0,0,0,0.3)] sm:flex-row",{"opacity-50":o.isCancelled}])},O,2)):(s(),i("div",{key:1,class:j(["group flex h-full flex-col gap-4 rounded-[10px] bg-white shadow-[0_0_4px_rgba(0,0,0,0.3)] transition-all duration-100 ease-in-out hover:shadow-[0_0_10px_rgba(0,0,0,0.3)] sm:flex-row",{"opacity-50":o.isCancelled}])},[e("div",q,[u.imgLoading?(s(),i("div",K,Q)):r("",!0),e("img",{onLoad:c[0]||(c[0]=(...d)=>o.onImageLoad&&o.onImageLoad(...d)),class:"h-full rounded-l-[10px]",src:(x=t.activity)==null?void 0:x.mainImg,alt:"card-img-01"},null,40,U),e("ul",W,[(s(!0),i(B,null,N((_=t.activity)==null?void 0:_.tags,(d,m)=>(s(),i("li",{key:d+m},[e("span",X,l(d),1)]))),128))])]),e("div",Y,[e("div",Z,[e("h5",$,l((h=t.activity)==null?void 0:h.title),1),o.hasJoined?(s(),i("div",ee,[te,n("已參加揪團 ")])):o.isHost?(s(),i("div",se,[ie,n("您是主辦者 ")])):o.isCancelled?(s(),i("div",le,[ae,n("此揪團已取消 ")])):r("",!0)]),e("p",oe,l((p=t.activity)==null?void 0:p.description),1),e("div",de,[e("p",ne,[ce,n(l((f=t.activity)==null?void 0:f.city)+l((v=t.activity)==null?void 0:v.district),1)]),e("p",re,[ue,n(l((g=t.activity)==null?void 0:g.date)+" "+l((w=(y=t.activity)==null?void 0:y.startTime)==null?void 0:w.time),1)])]),e("div",me,[e("div",xe,[e("ul",_e,[(s(!0),i(B,null,N((b=t.activity)==null?void 0:b.participants,(d,m)=>(s(),i("li",{key:"participant"+m},[u.isLoading?(s(),i("div",he)):r("",!0),e("img",{class:"inline-block h-9 w-9 rounded-full ring-2 ring-white",src:d,alt:"avatar01"},null,8,pe)]))),128)),((k=t.activity)==null?void 0:k.numParticipants)>3?(s(),i("li",fe,[e("div",ve," +"+l(((L=t.activity)==null?void 0:L.numParticipants)-3),1)])):r("",!0)]),e("div",null,[e("span",ge,l((D=t.activity)==null?void 0:D.numParticipants)+" 位已參加揪團",1),e("span",ye,"剩餘 "+l(((C=t.activity)==null?void 0:C.maxJoinNum)-((I=t.activity)==null?void 0:I.numParticipants))+" 空位",1)])]),z((s(),E(P,{to:`/JoinDetail/id=${(J=t.activity)==null?void 0:J.id}`,class:"btn-primary btn p-ripple p-2 group-hover:bg-secondary-yellow group-hover:text-[#3D3D3D] sm:w-1/4 md:ml-auto"},{default:F(()=>[n("查看詳情")]),_:1},8,["to"])),[[R]])])])],2))}const Le=V(A,[["render",we]]);export{Le as J};
