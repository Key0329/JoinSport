import{_ as E,G as w,s as _,a as n,E as D,w as k,F as g,C as f,t as L,b as a,r as A,o,e as y,B as p,d as b}from"./index-08f5dae2.js";import{j as x}from"./joinActivitiesStore-ab7967d2.js";import{J as V}from"./JoinCardRow-2fe3ad7f.js";const{VITE_URL:B}={VITE_URL:"https://join-sport-server-vercel.vercel.app",VITE_PATH:"key0329",VITE_TEXT:"這是產品的環境",VITE_MAP_KEY:"AIzaSyAScKOJBsEFvLrg4YGx5ticXsBzFYZPATw",VITE_MAP_URL:"https://maps.googleapis.com/maps/api/geocode/json",BASE_URL:"/JoinSport/",MODE:"production",DEV:!1,PROD:!0},R={components:{JoinCardRow:V},data(){return{userId:null,bookmarks:[]}},computed:{...w(x,["restructureActivitiesList"]),membersActivities(){const c=[];return this.bookmarks.forEach(e=>{this.restructureActivitiesList.forEach(t=>{t.id===parseInt(e.activityId,10)&&c.push(t)})}),c.map(e=>{var u,h;const t=(u=e.date)==null?void 0:u.split("/")[0],r=(h=e.date)==null?void 0:h.split("/")[1],m=new Date().getFullYear(),s=new Date(e.originDate),i=s.getDay(),T=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][i];return{...e,month:parseInt(t,10),day:parseInt(r,10),year:m,dayOfWeekZHTW:T,originTime:s}}).sort((e,t)=>e.originTime-t.originTime).reduce((e,t)=>{const{date:r}=t;return e[r]||(e[r]=[]),e[r].push(t),e},{})}},methods:{..._(x,["getActivities","getOrders"]),..._(L,["getUserId"]),getBookmarks(c){const d=`${B}/bookmarks?isCancelled=false&userId=${c}`;this.$http.get(d).then(l=>{this.bookmarks=l.data}).catch(l=>{console.log(l),alert("err")})}},mounted(){this.getActivities(),this.getOrders(),this.userId=this.getUserId(),this.getBookmarks(this.userId)}},v=a("h1",{class:"mb-12 text-3xl"},"已收藏的揪團",-1),C=a("p",{class:"mb-4 flex items-center text-2xl"},"目前尚無收藏揪團",-1),J=a("p",{class:"flex items-center group-hover:text-primary-01"},[y(" 探索更多揪團活動 "),a("i",{class:"pi pi-search-plus ml-1 text-xs"})],-1),S={key:1},O={key:0,class:"mb-6 border-b pb-4 text-xl"},H={key:1,class:"mb-6 border-b pb-4 text-xl"},U=a("i",{class:"pi pi-calendar text-xl"},null,-1);function W(c,d,l,I,e,t){const r=A("RouterLink"),m=A("JoinCardRow");return o(),n("section",null,[v,e.bookmarks.length===0?(o(),D(r,{key:0,to:"/JoinList/Hot/1",class:"group flex flex-col items-center justify-center py-10"},{default:k(()=>[C,J]),_:1})):(o(),n("ul",S,[(o(!0),n(g,null,f(t.membersActivities,s=>(o(),n("li",{key:s,class:"mb-10"},[s[0].day===parseInt(new Date().getDate(),10)?(o(),n("h3",O," 今天 ")):(o(),n("h3",H,[U,y(" "+p(s[0].dayOfWeekZHTW)+" "+p(s[0].month)+" 月 "+p(s[0].day)+" 日 ",1)])),a("ul",null,[(o(!0),n(g,null,f(s,i=>(o(),n("li",{key:i.id,class:"mb-6"},[b(r,{to:`/JoinDetail/id=${i==null?void 0:i.id}`},{default:k(()=>[b(m,{activity:i},null,8,["activity"])]),_:2},1032,["to"])]))),128))])]))),128))]))])}const M=E(R,[["render",W]]);export{M as default};
