import{J as L}from"./JoinCardRow-1f5e8253.js";import{L as x}from"./LeafletMap-df0bc066.js";import{_ as P,s as A,t as m,a as r,b as a,d as i,F as C,B as w,u as I,r as n,o as c,w as b}from"./index-4fc3ddb1.js";import{j as d}from"./activitiesStore-a91d8d15.js";import{P as k}from"./PaginationComponent-e9f0bc17.js";import"./leaflet-src-b823bf37.js";const J={name:"JoinListComingView",components:{JoinCardRow:L,LeafletMap:x,PaginationComponent:k},data(){return{userId:null,currentPage:1}},computed:{...A(d,["availableActivities","isLoading"]),hotActivitiesList:({availableActivities:s,arrangePage:l})=>{const p=s.filter(t=>t.isCancelled===!1).sort((t,o)=>t.originDate-o.originDate);return l(p)}},methods:{...m(d,["getOrders","getActivities","changePage","arrangePage"]),...m(I,["getUserId"])},watch:{$route(s){this.currentPage=s.params.page,this.changePage(s.params.page)}},mounted(){this.getActivities(),this.getOrders(),this.changePage(this.$route.params.page),this.userId=this.getUserId()}},v={class:"pt-4 pb-20 md:pt-10"},j={class:"container"},B=a("h2",{class:"mb-6 text-center text-2xl md:mb-10 md:text-start"}," 即將到來的揪團 ",-1),V={class:"grid gap-8 md:grid-cols-12 lg:gap-0"},D={class:"col-span-7 flex flex-col gap-6"},M={class:"sticky top-[286px] col-span-4 col-end-13 hidden h-[400px] md:flex"};function R(s,l,g,p,t,o){const u=n("PaginationComponent"),_=n("join-card-row"),h=n("RouterLink"),f=n("LeafletMap");return c(),r("main",v,[a("div",j,[B,i(u,{currentPage:t.currentPage,pageTotal:o.hotActivitiesList.pageTotal,pageUrl:"/JoinList/Coming/",class:"mb-4"},null,8,["currentPage","pageTotal"]),a("section",V,[a("ul",D,[(c(!0),r(C,null,w(o.hotActivitiesList.list,e=>(c(),r("li",{key:e==null?void 0:e.id},[i(h,{to:`/JoinDetail/id=${e==null?void 0:e.id}`},{default:b(()=>[i(_,{activity:e,userId:t.userId},null,8,["activity","userId"])]),_:2},1032,["to"])]))),128))]),a("aside",M,[i(f,{mapActivities:o.hotActivitiesList.list},null,8,["mapActivities"])])])])])}const $=P(J,[["render",R]]);export{$ as default};
