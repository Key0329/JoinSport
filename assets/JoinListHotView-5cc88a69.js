import{J as L}from"./JoinCardRow-5aa51337.js";import{L as P}from"./LeafletMap-0ab585ea.js";import{_ as x,G as A,s as m,a as r,b as a,d as n,F as w,C,t as I,r as i,o as c,w as k}from"./index-9dedc0dc.js";import{j as d}from"./joinActivitiesStore-e0de396f.js";import{P as J}from"./PaginationComponent-23b150ed.js";import"./leaflet-src-01bd1843.js";const b={name:"JoinListHotView",components:{JoinCardRow:L,LeafletMap:P,PaginationComponent:J},data(){return{userId:null,currentPage:1}},computed:{...A(d,["restructureActivitiesList"]),hotActivitiesList:({restructureActivitiesList:s,arrangePage:l})=>{const p=s.filter(e=>e.isCancelled===!1).sort((e,o)=>o.numParticipants-e.numParticipants);return l(p)}},methods:{...m(d,["getOrders","getActivities","changePage","arrangePage"]),...m(I,["getUserId"])},watch:{$route(s){this.currentPage=s.params.page,this.changePage(s.params.page)}},mounted(){this.getActivities(),this.getOrders(),this.changePage(this.$route.params.page),this.userId=this.getUserId()}},j={class:"pt-4 pb-20 md:pt-10"},v={class:"container"},V=a("h2",{class:"mb-6 text-center text-2xl md:mb-10 md:text-start"},"熱門揪團",-1),B={class:"grid gap-8 md:grid-cols-12 lg:gap-0"},H={class:"col-span-7 flex flex-col gap-6"},M={class:"sticky top-[286px] col-span-4 col-end-13 hidden h-[400px] md:flex"};function R(s,l,u,p,e,o){const g=i("PaginationComponent"),_=i("join-card-row"),h=i("RouterLink"),f=i("LeafletMap");return c(),r("main",j,[a("div",v,[V,n(g,{currentPage:e.currentPage,pageTotal:o.hotActivitiesList.pageTotal,pageUrl:"/JoinList/Hot/",class:"mb-4"},null,8,["currentPage","pageTotal"]),a("section",B,[a("ul",H,[(c(!0),r(w,null,C(o.hotActivitiesList.list,t=>(c(),r("li",{key:t==null?void 0:t.id},[n(h,{to:`/JoinDetail/id=${t==null?void 0:t.id}`},{default:k(()=>[n(_,{activity:t,userId:e.userId},null,8,["activity","userId"])]),_:2},1032,["to"])]))),128))]),a("aside",M,[n(f,{mapActivities:o.hotActivitiesList.list},null,8,["mapActivities"])])])])])}const $=x(b,[["render",R]]);export{$ as default};
