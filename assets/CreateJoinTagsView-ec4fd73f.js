import{_ as v,H as w,s as C,a as n,d as p,b as e,e as m,B as u,V as L,F as T,E as h,r as _,o as i,D as N,z as V,A as E}from"./index-e983c87e.js";import{t as f}from"./tagsStore-4273bcf8.js";import{S as I}from"./StepPagination-1dae9e93.js";import"./createSteps-003525b9.js";const k={components:{StepPagination:I},data(){return{tempSelectedTag:null,selectedTags:[],filteredTags:null}},computed:{...w(f,["tags","tagList"])},methods:{...C(f,["getTags"]),searchTag(t){this.selectedTags.length<=4&&setTimeout(()=>{t.query.trim().length?this.filteredTags=this.tagList.filter(s=>s.label.toLowerCase().match(t.query.toLowerCase())):this.filteredTags=[...this.tagList]},250)},addTag(t){if(t.target.tagName==="BUTTON"){const r=t.target.textContent;this.selectedTags.push(r),this.tempSelectedTag="";return}const s=t.target.value;if(this.selectedTags.some(r=>r===s)){this.$toast.add({severity:"warn",detail:"已有相同標籤",life:1e3});return}if(s===""){this.$toast.add({severity:"info",detail:"請輸入標籤內容",life:1e3});return}this.selectedTags.push(s),this.tempSelectedTag=""},removeTag(t){this.selectedTags.splice(t,1)},saveTagsToLocal(){localStorage.setItem("selectedTags",JSON.stringify(this.selectedTags))},getLocalTags(){if(localStorage.getItem("selectedTags")){const t=JSON.parse(localStorage.getItem("selectedTags"));this.selectedTags=t}}},mounted(){this.getLocalTags(),this.getTags()}},c=t=>(V("data-v-7cd5c212"),t=t(),E(),t),P={class:"py-10"},B={class:"container"},j=c(()=>e("h1",{class:"mb-8 text-center text-4xl"},"選擇適合的標籤來描述將要開的團",-1)),A={class:"mb-12 text-center text-xl"},J=c(()=>e("br",null,null,-1)),O={class:"text-primary-01"},q={class:"flex flex-col items-center justify-center"},z={class:"mb-[100px] flex w-1/2 flex-wrap gap-3"},D={class:"mr-8 text-lg"},F=c(()=>e("i",{class:"pi pi-tag mr-2"},null,-1)),K=["onClick"],U=c(()=>e("i",{class:"pi pi-times text-xs"},null,-1)),H=[U],G={class:"mb-10 w-1/2"},M=c(()=>e("h3",{class:"mb-4 ml-2 text-lg"},"Tags :",-1)),Q={class:"flex flex-wrap"},R=["disabled"],W={class:"mx-auto w-1/2"};function X(t,s,x,r,l,o){const y=_("PToast"),b=_("AutoComplete"),S=_("StepPagination");return i(),n(T,null,[p(y),e("section",P,[e("div",B,[j,e("h2",A,[m(" 請盡量詳細地選擇，將會幫助您的揪團找到最適合的團員"),J,m("可以新增 "),e("strong",O,u(5-l.selectedTags.length),1),m(" 個標籤 ")]),e("div",q,[p(b,{modelValue:l.tempSelectedTag,"onUpdate:modelValue":s[0]||(s[0]=a=>l.tempSelectedTag=a),suggestions:l.filteredTags,onComplete:s[1]||(s[1]=a=>o.searchTag(a)),onKeyup:s[2]||(s[2]=L(a=>o.addTag(a),["enter"])),optionLabel:"label",loadingIcon:"false",placeholder:"輸入適合揪團的標籤 ( 例如: 攀岩、潛水、戶外運動 )",disabled:l.selectedTags.length===5,class:"mb-10 flex w-full justify-center"},null,8,["modelValue","suggestions","disabled"]),e("ul",z,[(i(!0),n(T,null,h(l.selectedTags,(a,d)=>(i(),n("li",{class:"flex items-center rounded-full bg-secondary-yellow py-2 pl-8 pr-4",key:a+d},[e("span",D,[F,m(u(a),1)]),e("button",{type:"button",class:"flex h-5 w-5 items-center justify-center rounded-full bg-primary-03",onClick:g=>o.removeTag(d)},H,8,K)]))),128))]),e("div",G,[M,e("ul",Q,[(i(!0),n(T,null,h(t.tags,(a,d)=>(i(),n("li",{class:"flex items-center justify-center",key:a+d},[e("button",{class:N(["mb-2 mr-2 rounded-full bg-primary-02 px-8 py-2 hover:bg-primary-04",{hidden:l.selectedTags.some(g=>g===a),"cursor-not-allowed opacity-50":l.selectedTags.length===5}]),type:"button",disabled:l.selectedTags.length===5,onClick:s[3]||(s[3]=g=>o.addTag(g))},u(a),11,R)]))),128))])]),e("div",W,[p(S,{onEmitNext:o.saveTagsToLocal,onEmitPrev:o.saveTagsToLocal},null,8,["onEmitNext","onEmitPrev"])])])])])],64)}const te=v(k,[["render",X],["__scopeId","data-v-7cd5c212"]]);export{te as default};
