import{F as I}from"./FrontHeader-0a16ac7a.js";import{u as S,r as $,e as x,m as L,c as R}from"./i18n-validators-8d31e062.js";import{_ as B,a as r,d as l,b as s,v as A,G as m,F as u,B as g,C as p,x as b,w as _,r as n,o as a,e as f,D as F,E as M}from"./index-827349da.js";import{_ as C}from"./Vector-3-75327fe6.js";import"./searchStore-14942839.js";const D="/JoinSport/assets/Mask-group-cb79a82b.png";const{VITE_URL:U}={VITE_URL:"https://joinsport-server-render.onrender.com/",VITE_PATH:"key0329",VITE_TEXT:"這是產品的環境",VITE_MAP_KEY:"AIzaSyAScKOJBsEFvLrg4YGx5ticXsBzFYZPATw",VITE_MAP_URL:"https://maps.googleapis.com/maps/api/geocode/json",BASE_URL:"/JoinSport/",MODE:"production",DEV:!1,PROD:!0},j=e=>/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e),z={name:"RegisterView",components:{FrontHeader:I},setup:()=>({v$:S()}),data(){return{email:"",password:"",submitted:!1}},validations(){return{email:{required:$,email:x},password:{required:$,minLength:L(8),validatePassword:R.withMessage("請檢查格式是否正確",j)}}},methods:{handleSubmit(e){this.submitted=!0,e&&this.register()},register(){const e={email:this.email,password:this.password,name:"",favoriteSports:[]},o=`${U}/register`;this.$http.post(o,e).then(()=>{this.$toast.add({severity:"success",detail:"註冊成功，返回登入頁面",life:3e3}),setTimeout(()=>{this.$router.push("/login")},1e3)}).catch(v=>{const h=v.response.data;this.$toast.add({severity:"error",detail:`${h} 註冊失敗`,life:3e3,contentStyleClass:"custom-toast-danger"})})}}},d=e=>(F("data-v-fb920239"),e=e(),M(),e),H={class:"py-10 md:py-[120px]"},N={class:"container"},q={class:"flex justify-center md:justify-start"},J=d(()=>s("div",{class:"relative hidden w-[720px] items-center justify-center md:flex"},[s("img",{class:"h-1/2",src:D,alt:"registerImg"}),s("img",{class:"absolute bottom-[120px] -z-10 h-1/2 opacity-50",src:C,alt:"registerImg"})],-1)),O={class:"flex flex-col items-center pt-[120px]"},Y=d(()=>s("h1",{class:"mb-10 text-3xl"},"註冊會員",-1)),G={class:"mb-10"},K={class:"p-float-label p-input-icon-right"},X=d(()=>s("i",{class:"pi pi-envelope"},null,-1)),Z={key:0},Q={class:"p-error"},W={key:1,class:"p-error block text-end"},ee={class:"mb-4"},se={class:"p-float-label"},te=d(()=>s("h6",null,"請輸入密碼",-1)),oe=d(()=>s("ul",{class:"mt-0 border-t pt-1",style:{"line-height":"1.5"}},[s("li",null,"至少 1 個數字"),s("li",null,"至少 1 個小寫英文字母"),s("li",null,"至少 1 個大寫英文字母"),s("li",null,"最少 8 個字母")],-1)),re={key:0},ae={class:"p-error"},ie={key:1,class:"p-error block text-end"},le=d(()=>s("span",{class:"flex items-center text-sm text-gray-500 group-hover:text-primary-01"},[f(" 會員請登入 "),s("i",{class:"pi pi-external-link ml-1"})],-1));function ne(e,o,v,h,i,w){const y=n("PToast"),V=n("FrontHeader"),k=n("InputText"),P=n("PPassword"),T=n("PButton"),E=n("RouterLink");return a(),r(u,null,[l(y),l(V),s("main",H,[s("div",N,[s("div",q,[J,s("div",O,[Y,s("form",{onSubmit:o[2]||(o[2]=A(t=>w.handleSubmit(!e.v$.$invalid),["prevent"]))},[s("div",G,[s("div",K,[X,l(k,{id:"email",modelValue:e.v$.email.$model,"onUpdate:modelValue":o[0]||(o[0]=t=>e.v$.email.$model=t),placeholder:"請輸入 Email",class:m(["w-full",{"p-invalid":e.v$.email.$invalid&&i.submitted}]),"aria-describedby":"email-error",autocomplete:"email"},null,8,["modelValue","class"]),s("label",{for:"email",class:m({"p-error":e.v$.email.$invalid&&i.submitted})},"請輸入電子信箱",2)]),e.v$.email.$error&&i.submitted?(a(),r("span",Z,[(a(!0),r(u,null,g(e.v$.email.$errors,(t,c)=>(a(),r("span",{id:"email-error",key:c,class:"block text-end"},[s("small",Q,p(t.$message.replace("Value","電子信箱")),1)]))),128))])):e.v$.email.$invalid&&i.submitted||e.v$.email.$pending.$response?(a(),r("small",W,p(e.v$.email.required.$message.replace("Value","電子信箱")),1)):b("",!0)]),s("div",ee,[s("div",se,[l(P,{id:"password",modelValue:e.v$.password.$model,"onUpdate:modelValue":o[1]||(o[1]=t=>e.v$.password.$model=t),class:m({"p-invalid":e.v$.password.$invalid&&i.submitted}),toggleMask:"",inputProps:{autocomplete:"current-password"}},{header:_(()=>[te]),footer:_(t=>[f(p(t.level)+" ",1),oe]),_:1},8,["modelValue","class"]),s("label",{for:"password",class:m({"p-error":e.v$.password.$invalid&&i.submitted})},"請輸入密碼",2)]),e.v$.password.$error&&i.submitted?(a(),r("span",re,[(a(!0),r(u,null,g(e.v$.password.$errors,(t,c)=>(a(),r("span",{id:"password-error",key:c,class:"block text-end"},[s("small",ae,p(t.$message.replace("Value","密碼")),1)]))),128))])):e.v$.password.$invalid&&i.submitted||e.v$.password.$pending.$response?(a(),r("small",ie,p(e.v$.password.required.$message.replace("Value","密碼")),1)):b("",!0)]),l(T,{type:"submit",label:"註冊",class:"mt-10 w-full"})],32),l(E,{to:"/login",class:"group mt-2"},{default:_(()=>[le]),_:1})])])])])],64)}const _e=B(z,[["render",ne],["__scopeId","data-v-fb920239"]]);export{_e as default};
