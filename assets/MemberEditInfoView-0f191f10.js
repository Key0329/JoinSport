import{_ as h,s as u,t as v,a as b,d as n,b as i,F as _,r as c,o as E}from"./index-827349da.js";import{V as f}from"./VuelidateForm-4ea8597a.js";import{c as d}from"./createStepsStore-236e72a6.js";import"./i18n-validators-8d31e062.js";const{VITE_URL:F}={VITE_URL:"https://joinsport-server-render.onrender.com/",VITE_PATH:"key0329",VITE_TEXT:"這是產品的環境",VITE_MAP_KEY:"AIzaSyAScKOJBsEFvLrg4YGx5ticXsBzFYZPATw",VITE_MAP_URL:"https://maps.googleapis.com/maps/api/geocode/json",BASE_URL:"/JoinSport/",MODE:"production",DEV:!1,PROD:!0},V={name:"MemberEditInfoView",components:{VuelidateForm:f},data(){return{activity:{},isDisabled:!0}},computed:{...u(d,["isChildFormValid"])},methods:{...v(d,["updateFormValid"]),submitChildForm(){this.$refs.childForm.v$.$invalid?this.updateFormValid(!0):this.updateFormValid(!1),this.$refs.childForm.handleUpdate(!this.$refs.childForm.v$.$invalid)},getActivity(){const{id:a}=this.$route.params,t=`${F}/activities/${a}`;this.$http.get(t).then(e=>{this.activity=e.data}).catch(e=>{const r=e.response.statusText;this.$toast.add({severity:"error",detail:`${r} 取得活動資訊失敗`,life:3e3,contentStyleClass:"custom-toast-danger"})})},enableEdit(){this.isDisabled=!this.isDisabled},cancelEdit(){this.getActivity(),this.enableEdit()},removeLocal(){localStorage.removeItem("createTempFormData")}},mounted(){this.getActivity(),this.removeLocal()}},y={class:"mb-10 py-10"},g={class:"mt-16 flex gap-4"};function T(a,t,e,r,m,s){const l=c("PToast"),p=c("VuelidateForm");return E(),b(_,null,[n(l),i("section",y,[n(p,{activity:m.activity,ref:"childForm"},null,8,["activity"]),i("div",g,[i("button",{type:"button",class:"btn btn-primary ml-auto",onClick:t[0]||(t[0]=(...o)=>s.submitChildForm&&s.submitChildForm(...o))}," 確認 "),i("button",{type:"button",onClick:t[1]||(t[1]=(...o)=>s.cancelEdit&&s.cancelEdit(...o)),class:"btn border border-primary-01 hover:bg-primary-01 hover:text-white"}," 取消 ")])])],64)}const S=h(V,[["render",T]]);export{S as default};
