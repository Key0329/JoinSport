import{_ as m,a as h,d as c,b as o,F as _,r as d,o as E}from"./index-3e1b4187.js";const{VITE_URL:l}={VITE_URL:"https://joinsport-server-render.onrender.com",VITE_PATH:"key0329",VITE_TEXT:"這是產品的環境",VITE_MAP_KEY:"AIzaSyAScKOJBsEFvLrg4YGx5ticXsBzFYZPATw",VITE_MAP_URL:"https://maps.googleapis.com/maps/api/geocode/json",BASE_URL:"/JoinSport/",MODE:"production",DEV:!1,PROD:!0},y={name:"MemberEditContentView",data(){return{editorValue:"",quillEditor:null}},methods:{getActivity(){const{id:a}=this.$route.params,t=`${l}/activities/${a}`;this.$http.get(t).then(e=>{this.editorValue=e.data.content}).catch(e=>{const n=e.response.statusText;this.$toast.add({severity:"error",detail:`${n} 取得活動資訊失敗`,life:3e3,contentStyleClass:"custom-toast-danger"})})},updateActivityContent(){const{id:a}=this.$route.params,t=`${l}/activities/${a}`,e={content:this.editorValue};this.$http.patch(t,e).then(()=>{this.$toast.add({severity:"success",detail:"修改成功",life:3e3})}).catch(n=>{const i=n.response.statusText;this.$toast.add({severity:"error",detail:`${i} 更新活動資訊失敗`,life:3e3,contentStyleClass:"custom-toast-danger"})})},cancelEdit(){this.getActivity()}},mounted(){this.getActivity()}},V={class:"py-10"},v={class:"mb-10 flex flex-col items-center"},g={class:"mt-10 flex gap-4"};function b(a,t,e,n,i,r){const p=d("PToast"),u=d("PEditor");return E(),h(_,null,[c(p),o("section",V,[o("div",v,[c(u,{modelValue:i.editorValue,"onUpdate:modelValue":t[0]||(t[0]=s=>i.editorValue=s),editorStyle:"height: 320px",placeholder:"請輸入簡介"},null,8,["modelValue"])]),o("div",g,[o("button",{type:"button",class:"btn btn-primary ml-auto",onClick:t[1]||(t[1]=(...s)=>r.updateActivityContent&&r.updateActivityContent(...s))}," 確認 "),o("button",{type:"button",onClick:t[2]||(t[2]=(...s)=>r.cancelEdit&&r.cancelEdit(...s)),class:"btn border border-primary-01 hover:bg-primary-01 hover:text-white"}," 取消 ")])])],64)}const f=m(y,[["render",b]]);export{f as default};
