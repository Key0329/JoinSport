import{_ as T,s as v,t as f,a as o,b as s,d as x,w as b,x as $,F as y,B as A,u as S,r as w,o as i,e as h,C as p}from"./index-862f554f.js";import{j as D}from"./activitiesStore-201461f8.js";import{J as C}from"./JoinCardRow-42775f3d.js";const I={name:"MemberListView",components:{JoinCardRow:C},computed:{...v(D,["availableActivities"]),filteredArray(){const d=parseInt(this.getUserId(),10);return this.availableActivities.filter(l=>l.participantsId.includes(d))},membersActivities(){return this.filteredArray.map(e=>{var _,g;const r=(_=e.date)==null?void 0:_.split("/")[0],t=(g=e.date)==null?void 0:g.split("/")[1],m=new Date().getFullYear(),u=new Date(e.originDate),n=u.getDay(),k=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][n];return{...e,month:parseInt(r,10),day:parseInt(t,10),year:m,dayOfWeekZHTW:k,originTime:u}}).sort((e,r)=>e.originTime-r.originTime).reduce((e,r)=>{const{date:t}=r;return e[t]||(e[t]=[]),e[t].push(r),e},{})},hasTodayActivity(){const d=new Date().getFullYear(),c=new Date().getMonth()+1,l=new Date().getDate(),e=`${d}-${c.toString().padStart(2,"0")}-${l.toString().padStart(2,"0")}`;return this.filteredArray.find(t=>t.originDate===e)!==void 0}},methods:{...f(D,["getActivities","getOrders"]),...f(S,["getUserId"])},mounted(){this.getActivities(),this.getOrders(),this.getUserId()}},J=s("h1",{class:"mb-4 text-center text-xl md:mb-12 md:text-left md:text-3xl"}," 已參與的揪團 ",-1),L={key:0,class:"mb-6 md:mb-10"},V=s("h3",{class:"mb-6 border-b pb-4 text-center text-lg md:text-left md:text-xl"}," 今天 ",-1),W={class:"mb-4 flex items-center md:text-lg"},F=s("i",{class:"pi pi-calendar-plus mr-2 text-sm md:text-lg"},null,-1),H=s("p",{class:"flex items-center text-sm group-hover:text-primary-01 md:text-base"},[h(" 探索更多揪團活動 "),s("i",{class:"pi pi-search-plus ml-1 text-xs"})],-1),M={key:0,class:"mb-6 border-b pb-4 text-center md:text-left md:text-xl"},R={key:1,class:"mb-6 border-b pb-4 text-center md:text-left md:text-xl"},B=s("i",{class:"pi pi-calendar md:text-xl"},null,-1);function N(d,c,l,e,r,t){const m=w("RouterLink"),u=w("JoinCardRow");return i(),o("section",null,[J,s("ul",null,[t.hasTodayActivity?$("",!0):(i(),o("li",L,[V,x(m,{to:"/JoinList/Hot/1",class:"group flex flex-col items-center justify-center py-4 md:py-10"},{default:b(()=>[s("p",W,[F,h(p(`今天沒有符合條件的活動 ${new Date().getFullYear()} 年 ${new Date().getMonth()+1} 月 ${new Date().getDate()} 日`),1)]),H]),_:1})])),(i(!0),o(y,null,A(t.membersActivities,n=>(i(),o("li",{key:n,class:"mb-10"},[n.originDate===new Date().getTime()?(i(),o("h3",M," 今天 ")):(i(),o("h3",R,[B,h(" "+p(n[0].dayOfWeekZHTW)+" "+p(n[0].month)+" 月 "+p(n[0].day)+" 日 ",1)])),s("ul",null,[(i(!0),o(y,null,A(n,a=>(i(),o("li",{key:a.id,class:"mb-6"},[x(m,{to:`/JoinDetail/id=${a==null?void 0:a.id}`},{default:b(()=>[x(u,{activity:a},null,8,["activity"])]),_:2},1032,["to"])]))),128))])]))),128))])])}const Y=T(I,[["render",N]]);export{Y as default};
