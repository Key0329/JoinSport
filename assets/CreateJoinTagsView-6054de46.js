import{_ as w,s as v,t as C,a as n,d as p,b as e,e as m,B as u,y as L,F as _,A as h,r as T,o as i,G as N,C as V,D as I}from"./index-a122773d.js";import{s as f}from"./searchStore-a103fcec.js";import{S as k}from"./StepPagination-b22428f6.js";import"./createSteps-44b2de25.js";const E={name:"CreateJoinTagsView",components:{StepPagination:k},data(){return{tempSelectedTag:null,selectedTags:[],filteredTags:null}},computed:{...v(f,["tags","tagList"])},methods:{...C(f,["getTags"]),searchTag(t){this.selectedTags.length<=4&&setTimeout(()=>{t.query.trim().length?this.filteredTags=this.tagList.filter(s=>s.label.toLowerCase().match(t.query.toLowerCase())):this.filteredTags=[...this.tagList]},250)},addTag(t){if(t.target.tagName==="BUTTON"){const r=t.target.textContent;this.selectedTags.push(r),this.tempSelectedTag="";return}const s=t.target.value;if(this.selectedTags.some(r=>r===s)){this.$toast.add({severity:"warn",detail:"已有相同標籤",life:1e3});return}if(s===""){this.$toast.add({severity:"info",detail:"請輸入標籤內容",life:1e3});return}this.selectedTags.push(s),this.tempSelectedTag=""},removeTag(t){this.selectedTags.splice(t,1)},saveTagsToLocal(){localStorage.setItem("selectedTags",JSON.stringify(this.selectedTags))},getLocalTags(){if(localStorage.getItem("selectedTags")){const t=JSON.parse(localStorage.getItem("selectedTags"));this.selectedTags=t}}},mounted(){this.getLocalTags(),this.getTags()}},c=t=>(V("data-v-ab8d066d"),t=t(),I(),t),P={class:"py-10"},B={class:"container"},J=c(()=>e("h1",{class:"mb-8 text-center text-4xl"},"選擇適合的標籤來描述將要開的團",-1)),j={class:"mb-12 text-center text-xl"},A=c(()=>e("br",null,null,-1)),K={class:"text-primary-01"},O={class:"flex flex-col items-center justify-center"},q={class:"mb-[100px] flex w-1/2 flex-wrap gap-3"},D={class:"mr-8 text-lg"},F=c(()=>e("i",{class:"pi pi-tag mr-2"},null,-1)),U=["onClick"],z=c(()=>e("i",{class:"pi pi-times text-xs"},null,-1)),G=[z],H={class:"mb-10 w-1/2"},M=c(()=>e("h3",{class:"mb-4 ml-2 text-lg"},"Tags :",-1)),Q={class:"flex flex-wrap"},R=["disabled"],W={class:"mx-auto w-1/2"};function X(t,s,x,r,a,o){const y=T("PToast"),b=T("AutoComplete"),S=T("StepPagination");return i(),n(_,null,[p(y),e("section",P,[e("div",B,[J,e("h2",j,[m(" 請盡量詳細地選擇，將會幫助您的揪團找到最適合的團員"),A,m("可以新增 "),e("strong",K,u(5-a.selectedTags.length),1),m(" 個標籤 ")]),e("div",O,[p(b,{modelValue:a.tempSelectedTag,"onUpdate:modelValue":s[0]||(s[0]=l=>a.tempSelectedTag=l),suggestions:a.filteredTags,onComplete:o.searchTag,onKeyup:L(o.addTag,["enter"]),optionLabel:"label",loadingIcon:"false",placeholder:"輸入適合揪團的標籤 ( 例如: 攀岩、潛水、戶外運動 )",disabled:a.selectedTags.length===5,class:"mb-10 flex w-full justify-center"},null,8,["modelValue","suggestions","onComplete","onKeyup","disabled"]),e("ul",q,[(i(!0),n(_,null,h(a.selectedTags,(l,d)=>(i(),n("li",{class:"flex items-center rounded-full bg-secondary-yellow py-2 pl-8 pr-4",key:l+d},[e("span",D,[F,m(u(l),1)]),e("button",{type:"button",class:"flex h-5 w-5 items-center justify-center rounded-full bg-primary-03",onClick:g=>o.removeTag(d)},G,8,U)]))),128))]),e("div",H,[M,e("ul",Q,[(i(!0),n(_,null,h(t.tags,(l,d)=>(i(),n("li",{class:"flex items-center justify-center",key:l+d},[e("button",{class:N(["mb-2 mr-2 rounded-full bg-primary-02 px-8 py-2 hover:bg-primary-04",{hidden:a.selectedTags.some(g=>g===l),"cursor-not-allowed opacity-50":a.selectedTags.length===5}]),type:"button",disabled:a.selectedTags.length===5,onClick:s[1]||(s[1]=g=>o.addTag(g))},u(l),11,R)]))),128))])]),e("div",W,[p(S,{onEmitNext:o.saveTagsToLocal,onEmitPrev:o.saveTagsToLocal},null,8,["onEmitNext","onEmitPrev"])])])])])],64)}const te=w(E,[["render",X],["__scopeId","data-v-ab8d066d"]]);export{te as default};
