import{s as Ve,t as X,_ as ae,u as $e,r as de,o as ce,H as fe}from"./index-29bbafb4.js";import{j as Q}from"./activitiesStore-3a3e71f1.js";import{c as P,w as ge,x as Ke,y as ee,e as V,z as Ye,m as x,A as E,v as o,G as he,D as k,R as M,a as ue,l as w,b as T,H as pe,I as me,J as ye,P as H,K as F,L as ve,V as B,M as be,O as _,Q as Se,T as xe,B as D,U as Re,p as Ze,n as Je,E as Xe,g as Qe,W as te,X as Ce,j as q,Y as we,Z as Ee,_ as et,i as De,$ as ke,a0 as W,a1 as tt,a2 as st,f as it,a3 as Te,a4 as Me,N as $,q as Pe,r as Ne,a5 as nt,C as K,a6 as Y,a7 as rt,a8 as lt,a9 as G,aa as N,ab as Z,ac as ot,ad as U,ae as at,af as dt,ag as ct,d as se,ah as ft,ai as gt,aj as ht,ak as ut,al as pt,F as mt,u as yt}from"./zh-tw-d6c632f4.js";function O(r,e){let t=[];for(let s=0;s<e;s+=1)t[s]=[];for(let s of r)t[s.row].push(s);return t}function A(r,e){let t=[];for(let s=0;s<e;s+=1)t[s]=[];for(let s of r)t[s.firstCol].push(s);return t}function ie(r,e){let t=[];if(r){for(let s=0;s<e;s+=1)t[s]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let s of r.segs)t[s.row].segs.push(s)}else for(let s=0;s<e;s+=1)t[s]=null;return t}const Ie=P({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function He(r){let{display:e}=r.eventRange.ui;return e==="list-item"||e==="auto"&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}class ze extends D{render(){let{props:e}=this;return o(Re,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Ie,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class We extends D{render(){let{props:e,context:t}=this,{options:s}=t,{seg:i}=e,n=s.eventTimeFormat||Ie,l=Ze(i,n,t,!0,e.defaultDisplayEventEnd);return o(Xe,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Je(e.seg,t),defaultGenerator:vt,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function vt(r){return o(w,null,o("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&o("div",{className:"fc-event-time"},r.timeText),o("div",{className:"fc-event-title"},r.event.title||o(w,null," ")))}class bt extends D{constructor(){super(...arguments),this.compileSegs=x(St)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:s}=this.compileSegs(e.singlePlacements);return o(Me,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:s,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return o(w,null,t.map(n=>{let l=n.eventRange.instance.instanceId;return o("div",{className:"fc-daygrid-event-harness",key:l,style:{visibility:i[l]?"hidden":""}},He(n)?o(We,Object.assign({seg:n,isDragging:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},T(n,e.todayRange))):o(ze,Object.assign({seg:n,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===e.eventSelection,defaultDisplayEventEnd:!1},T(n,e.todayRange))))}))}})}}function St(r){let e=[],t=[];for(let s of r)e.push(s.seg),s.isVisible||t.push(s.seg);return{allSegs:e,invisibleSegs:t}}const xt=P({week:"narrow"});class Rt extends k{constructor(){super(...arguments),this.rootElRef=E(),this.state={dayNumberId:Qe()},this.handleRootEl=e=>{te(this.rootElRef,e),te(this.props.elRef,e)}}render(){let{context:e,props:t,state:s,rootElRef:i}=this,{options:n,dateEnv:l}=e,{date:a,dateProfile:d}=t;const c=t.showDayNumber&&wt(a,d.currentRange,l);return o(Ee,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":s.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Ct,date:a,dateProfile:d,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(f,u)=>o("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&o(Ce,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:q(e,a,"week"),date:a,defaultFormat:xt}),!u.isDisabled&&(t.showDayNumber||we(n)||t.forceDayTop)?o("div",{className:"fc-daygrid-day-top"},o(f,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},q(e,a)),{id:s.dayNumberId})})):t.showDayNumber?o("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},o("a",{className:"fc-daygrid-day-number"}," ")):void 0,o("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,o("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},o(bt,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:i,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),o("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function Ct(r){return r.dayNumberText||o(w,null," ")}function wt(r,e,t){const{start:s,end:i}=e,n=et(i,-1),l=t.getYear(s),a=t.getMonth(s),d=t.getYear(n),c=t.getMonth(n);return!(l===d&&a===c)&&Boolean(r.valueOf()===s.valueOf()||t.getDay(r)===1&&r.valueOf()<i.valueOf())}function Et(r,e,t,s,i,n,l){let a=new Tt;a.allowReslicing=!0,a.strictOrder=s,e===!0||t===!0?(a.maxCoord=n,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof t=="number"&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let d=[],c=[];for(let y=0;y<r.length;y+=1){let b=r[y],{instanceId:R}=b.eventRange.instance,S=i[R];S!=null?d.push({index:y,thickness:S,span:{start:b.firstCol,end:b.lastCol+1}}):c.push(b)}let f=a.addSegs(d),u=a.toRects(),{singleColPlacements:p,multiColPlacements:g,leftoverMargins:m}=Dt(u,r,l),h=[],v=[];for(let y of c){g[y.firstCol].push({seg:y,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let b=y.firstCol;b<=y.lastCol;b+=1)p[b].push({seg:I(y,b,b+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<l.length;y+=1)h.push(0);for(let y of f){let b=r[y.index],R=y.span;g[R.start].push({seg:I(b,R.start,R.end,l),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=R.start;S<R.end;S+=1)h[S]+=1,p[S].push({seg:I(b,S,S+1,l),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let y=0;y<l.length;y+=1)v.push(m[y]);return{singleColPlacements:p,multiColPlacements:g,moreCnts:h,moreMarginTops:v}}function Dt(r,e,t){let s=kt(r,t.length),i=[],n=[],l=[];for(let a=0;a<t.length;a+=1){let d=s[a],c=[],f=0,u=0;for(let g of d){let m=e[g.index];c.push({seg:I(m,a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:g.levelCoord-f}),f=g.levelCoord+g.thickness}let p=[];f=0,u=0;for(let g of d){let m=e[g.index],h=g.span.end-g.span.start>1,v=g.span.start===a;u+=g.levelCoord-f,f=g.levelCoord+g.thickness,h?(u+=g.thickness,v&&p.push({seg:I(m,g.span.start,g.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:g.levelCoord,marginTop:0})):v&&(p.push({seg:I(m,g.span.start,g.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:u}),u=0)}i.push(c),n.push(p),l.push(u)}return{singleColPlacements:i,multiColPlacements:n,leftoverMargins:l}}function kt(r,e){let t=[];for(let s=0;s<e;s+=1)t.push([]);for(let s of r)for(let i=s.span.start;i<s.span.end;i+=1)t[i].push(s);return t}function I(r,e,t,s){if(r.firstCol===e&&r.lastCol===t-1)return r;let i=r.eventRange,n=i.range,l=De(n,{start:s[e].date,end:V(s[t-1].date,1)});return Object.assign(Object.assign({},r),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:l},isStart:r.isStart&&l.start.valueOf()===n.start.valueOf(),isEnd:r.isEnd&&l.end.valueOf()===n.end.valueOf()})}class Tt extends ke{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:s}=this,i=n=>!this.forceHidden[W(n)];for(let n=0;n<s.length;n+=1)s[n]=s[n].filter(i);return t}handleInvalidInsertion(e,t,s){const{entriesByLevel:i,forceHidden:n}=this,{touchingEntry:l,touchingLevel:a,touchingLateral:d}=e;if(this.hiddenConsumes&&l){const c=W(l);if(!n[c])if(this.allowReslicing){const f=Object.assign(Object.assign({},l),{span:tt(l.span,t.span)}),u=W(f);n[u]=!0,i[a][d]=f,this.splitEntry(l,t,s)}else n[c]=!0,s.push(l)}return super.handleInvalidInsertion(e,t,s)}}class Oe extends k{constructor(){super(...arguments),this.cellElRefs=new M,this.frameElRefs=new M,this.fgElRefs=new M,this.segHarnessRefs=new M,this.rootElRef=E(),this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:s}=this,{options:i}=s,n=e.cells.length,l=A(e.businessHourSegs,n),a=A(e.bgEventSegs,n),d=A(this.getHighlightSegs(),n),c=A(this.getMirrorSegs(),n),{singleColPlacements:f,multiColPlacements:u,moreCnts:p,moreMarginTops:g}=Et(ue(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,t.eventInstanceHeights,t.maxContentHeight,e.cells),m=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return o("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((h,v)=>{let y=this.renderFgSegs(v,e.forPrint?f[v]:u[v],e.todayRange,m),b=this.renderFgSegs(v,Mt(c[v],u),e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return o(Rt,{key:h.key,elRef:this.cellElRefs.createRef(h.key),innerElRef:this.frameElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&v===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,moreCnt:p[v],moreMarginTop:g[v],singlePlacements:f[v],fgContentElRef:this.fgElRefs.createRef(h.key),fgContent:o(w,null,o(w,null,y),o(w,null,b)),bgContent:o(w,null,this.renderFillSegs(d[v],"highlight"),this.renderFillSegs(l[v],"non-business"),this.renderFillSegs(a[v],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let s=this.props;this.updateSizing(!ge(e,s))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,s,i,n,l,a){let{context:d}=this,{eventSelection:c}=this.props,{framePositions:f}=this.state,u=this.props.cells.length===1,p=n||l||a,g=[];if(f)for(let m of t){let{seg:h}=m,{instanceId:v}=h.eventRange.instance,y=v+":"+e,b=m.isVisible&&!i[v],R=m.isAbsolute,S="",C="";R&&(d.isRtl?(C=0,S=f.lefts[h.lastCol]-f.lefts[h.firstCol]):(S=0,C=f.rights[h.firstCol]-f.rights[h.lastCol])),g.push(o("div",{className:"fc-daygrid-event-harness"+(R?" fc-daygrid-event-harness-abs":""),key:y,ref:p?null:this.segHarnessRefs.createRef(y),style:{visibility:b?"":"hidden",marginTop:R?"":m.marginTop,top:R?m.absoluteTop:"",left:S,right:C}},He(h)?o(We,Object.assign({seg:h,isDragging:n,isSelected:v===c,defaultDisplayEventEnd:u},T(h,s))):o(ze,Object.assign({seg:h,isDragging:n,isResizing:l,isDateSelecting:a,isSelected:v===c,defaultDisplayEventEnd:u},T(h,s)))))}return g}renderFillSegs(e,t){let{isRtl:s}=this.context,{todayRange:i}=this.props,{framePositions:n}=this.state,l=[];if(n)for(let a of e){let d=s?{right:0,left:n.lefts[a.lastCol]-n.lefts[a.firstCol]}:{left:0,right:n.rights[a.firstCol]-n.rights[a.lastCol]};l.push(o("div",{key:ye(a.eventRange),className:"fc-daygrid-bg-harness",style:d},t==="bg-event"?o(pe,Object.assign({seg:a},T(a,i))):me(t)))}return o(w,{},...l)}updateSizing(e){let{props:t,state:s,frameElRefs:i}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let d=t.cells.map(c=>i.currentMap[c.key]);if(d.length){let c=this.rootElRef.current,f=new H(c,d,!0,!1);(!s.framePositions||!s.framePositions.similarTo(f))&&this.setState({framePositions:new H(c,d,!0,!1)})}}const n=this.state.eventInstanceHeights,l=this.queryEventInstanceHeights(),a=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({eventInstanceHeights:Object.assign(Object.assign({},n),l),maxContentHeight:a?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let s in e){let i=Math.round(e[s].getBoundingClientRect().height),n=s.split(":")[0];t[n]=Math.max(t[n]||0,i)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],s=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-s.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}Oe.addStateEquality({eventInstanceHeights:ge});function Mt(r,e){if(!r.length)return[];let t=Pt(e);return r.map(s=>({seg:s,isVisible:!0,isAbsolute:!0,absoluteTop:t[s.eventRange.instance.instanceId],marginTop:0}))}function Pt(r){let e={};for(let t of r)for(let s of t)e[s.seg.eventRange.instance.instanceId]=s.absoluteTop;return e}class Nt extends k{constructor(){super(...arguments),this.splitBusinessHourSegs=x(O),this.splitBgEventSegs=x(O),this.splitFgEventSegs=x(O),this.splitDateSelectionSegs=x(O),this.splitEventDrag=x(ie),this.splitEventResize=x(ie),this.rowRefs=new M}render(){let{props:e,context:t}=this,s=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,s),n=this.splitBgEventSegs(e.bgEventSegs,s),l=this.splitFgEventSegs(e.fgEventSegs,s),a=this.splitDateSelectionSegs(e.dateSelectionSegs,s),d=this.splitEventDrag(e.eventDrag,s),c=this.splitEventResize(e.eventResize,s),f=s>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return o($,{unit:"day"},(u,p)=>o(w,null,e.cells.map((g,m)=>o(Oe,{ref:this.rowRefs.createRef(m),key:g.length?g[0].date.toISOString():m,showDayNumbers:s>1,showWeekNumbers:e.showWeekNumbers,todayRange:p,dateProfile:e.dateProfile,cells:g,renderIntro:e.renderRowIntro,businessHourSegs:i[m],eventSelection:e.eventSelection,bgEventSegs:n[m].filter(It),fgEventSegs:l[m],dateSelectionSegs:a[m],eventDrag:d[m],eventResize:c[m],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:f,forPrint:e.forPrint}))))}componentDidMount(){const e=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=e?e.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new H(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new H(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:s,rowPositions:i}=this,n=s.leftToIndex(e),l=i.topToIndex(t);if(l!=null&&n!=null){let a=this.props.cells[l][n];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(l,n),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(l,n),rect:{left:s.lefts[n],right:s.rights[n],top:i.tops[l],bottom:i.bottoms[l]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let s=this.props.cells[e][t].date,i=V(s,1);return{start:s,end:i}}}function It(r){return r.eventRange.def.allDay}class Ht extends k{constructor(){super(...arguments),this.elRef=E(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:s,expandRows:i}=e,n=s===!0||t===!0;n&&!i&&(n=!1,t=null,s=null);let l=["fc-daygrid-body",n?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return o("div",{ref:this.elRef,className:l.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},o("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,o("tbody",{role:"presentation"},o(Nt,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:s,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=zt(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),s=t.closest(".fc-scroller"),i=e.getBoundingClientRect().top-t.getBoundingClientRect().top;s.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function zt(r,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=r.querySelector(`[data-date="${st(e.currentDate)}-01"]`)),t||(t=r.querySelector(`[data-date="${it(e.currentDate)}"]`)),t}class Wt extends Te{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class Ae extends k{constructor(){super(...arguments),this.slicer=new Wt,this.tableRef=E()}render(){let{props:e,context:t}=this;return o(Ht,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class Ot extends Ke{buildRenderRange(e,t,s){let i=super.buildRenderRange(e,t,s),{props:n}=this;return At({currentRange:i,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:n.fixedWeekCount,dateEnv:n.dateEnv})}}function At(r){let{dateEnv:e,currentRange:t}=r,{start:s,end:i}=t,n;if(r.snapToWeek&&(s=e.startOfWeek(s),n=e.startOfWeek(i),n.valueOf()!==i.valueOf()&&(i=ee(n,1))),r.fixedWeekCount){let l=e.startOfWeek(e.startOfMonth(V(t.end,-1))),a=Math.ceil(Ye(l,i));i=ee(i,6-a)}return{start:s,end:i}}class Ft extends k{constructor(){super(...arguments),this.headerElRef=E()}renderSimpleLayout(e,t){let{props:s,context:i}=this,n=[],l=F(i.options);return e&&n.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),n.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),o(B,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},o(ve,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[],sections:n}))}renderHScrollLayout(e,t,s,i){let n=this.context.pluginHooks.scrollGridImpl;if(!n)throw new Error("No ScrollGrid implementation");let{props:l,context:a}=this,d=!l.forPrint&&F(a.options),c=!l.forPrint&&be(a.options),f=[];return e&&f.push({type:"header",key:"header",isSticky:d,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),f.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&f.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:_}]}),o(B,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},o(n,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,colGroups:[{cols:[{span:s,minWidth:i}]}],sections:f}))}}class Bt extends Ft{constructor(){super(...arguments),this.buildDayTableModel=x(Gt),this.headerRef=E(),this.tableRef=E()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:s}=this,i=this.buildDayTableModel(s.dateProfile,t),n=e.dayHeaders&&o(he,{ref:this.headerRef,dateProfile:s.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),l=a=>o(Ae,{ref:this.tableRef,dateProfile:s.dateProfile,dayTableModel:i,businessHours:s.businessHours,dateSelection:s.dateSelection,eventStore:s.eventStore,eventUiBases:s.eventUiBases,eventSelection:s.eventSelection,eventDrag:s.eventDrag,eventResize:s.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!s.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:s.forPrint});return e.dayMinWidth?this.renderHScrollLayout(n,l,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(n,l)}}function Gt(r,e){let t=new Se(r.renderRange,e);return new xe(t,/year|month|week/.test(r.currentRangeUnit))}var Lt=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Pe(Lt);var jt=Ne({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Bt,dateProfileGeneratorClass:Ot},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class _t extends rt{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?lt(e)?["timed","allDay"]:["allDay"]:["timed"]}}const qt=P({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Fe(r){let e=["fc-timegrid-slot","fc-timegrid-slot-label",r.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return o(at.Consumer,null,t=>{if(!r.isLabeled)return o("td",{className:e.join(" "),"data-time":r.isoTimeStr});let{dateEnv:s,options:i,viewApi:n}=t,l=i.slotLabelFormat==null?qt:Array.isArray(i.slotLabelFormat)?P(i.slotLabelFormat[0]):P(i.slotLabelFormat),a={level:0,time:r.time,date:s.toDate(r.date),view:n,text:s.format(r.date,l)};return o(K,{elTag:"td",elClasses:e,elAttrs:{"data-time":r.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:Ut,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},d=>o("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},o(d,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Ut(r){return r.text}class Vt extends D{render(){return this.props.slatMetas.map(e=>o("tr",{key:e.key},o(Fe,Object.assign({},e))))}}const $t=P({week:"short"}),Kt=5;class Yt extends k{constructor(){super(...arguments),this.allDaySplitter=new _t,this.headerElRef=E(),this.rootElRef=E(),this.scrollerElRef=E(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:s}=this.context,{dateProfile:i}=this.props,n=i.renderRange,a=nt(n.start,n.end)===1?q(this.context,n.start,"week"):{};return s.weekNumbers&&e==="day"?o(Ce,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:n.start,defaultFormat:$t},d=>o("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},o(d,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):o("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},o("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:s}=this.context,i={text:t.allDayText,view:s};return o(K,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:Zt,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},n=>o("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},o(n,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,s){let{context:i,props:n}=this,l=[],a=F(i.options);return e&&l.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(l.push({type:"body",key:"all-day",chunk:{content:t}}),l.push({type:"body",key:"all-day-divider",outerContent:o("tr",{role:"presentation",className:"fc-scrollgrid-section"},o("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),l.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(i.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:s}}),o(B,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},o(ve,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[{width:"shrink"}],sections:l}))}renderHScrollLayout(e,t,s,i,n,l,a){let d=this.context.pluginHooks.scrollGridImpl;if(!d)throw new Error("No ScrollGrid implementation");let{context:c,props:f}=this,u=!f.forPrint&&F(c.options),p=!f.forPrint&&be(c.options),g=[];e&&g.push({type:"header",key:"header",isSticky:u,syncRowHeights:!0,chunks:[{key:"axis",rowContent:h=>o("tr",{role:"presentation"},this.renderHeadAxis("day",h.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(g.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:h=>o("tr",{role:"presentation"},this.renderTableRowAxis(h.rowSyncHeights[0]))},{key:"cols",content:t}]}),g.push({key:"all-day-divider",type:"body",outerContent:o("tr",{role:"presentation",className:"fc-scrollgrid-section"},o("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let m=c.options.nowIndicator;return g.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(c.options.expandRows),chunks:[{key:"axis",content:h=>o("div",{className:"fc-timegrid-axis-chunk"},o("table",{"aria-hidden":!0,style:{height:h.expandRows?h.clientHeight:""}},h.tableColGroupNode,o("tbody",null,o(Vt,{slatMetas:l}))),o("div",{className:"fc-timegrid-now-indicator-container"},o($,{unit:m?"minute":"day"},v=>{let y=m&&a&&a.safeComputeTop(v);return typeof y=="number"?o(Y,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:y},isAxis:!0,date:v}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:s}]}),p&&g.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:_},{key:"cols",content:_}]}),o(B,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},o(d,{liquid:!f.isHeightAuto&&!f.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:n}]}],sections:g}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=Kt),{dayMaxEvents:e,dayMaxEventRows:t}}}function Zt(r){return r.text}class Jt{constructor(e,t,s){this.positions=e,this.dateProfile=t,this.slotDuration=s}safeComputeTop(e){let{dateProfile:t}=this;if(ct(t.currentRange,e)){let s=se(e),i=e.valueOf()-s.valueOf();if(i>=N(t.slotMinTime)&&i<N(t.slotMaxTime))return this.computeTimeTop(G(i))}return null}computeDateTop(e,t){return t||(t=se(e)),this.computeTimeTop(G(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:s}=this,i=t.els.length,n=(e.milliseconds-N(s.slotMinTime))/N(this.slotDuration),l,a;return n=Math.max(0,n),n=Math.min(i,n),l=Math.floor(n),l=Math.min(l,i-1),a=n-l,t.tops[l]+t.getHeight(l)*a}}class Xt extends D{render(){let{props:e,context:t}=this,{options:s}=t,{slatElRefs:i}=e;return o("tbody",null,e.slatMetas.map((n,l)=>{let a={time:n.time,date:t.dateEnv.toDate(n.date),view:t.viewApi};return o("tr",{key:n.key,ref:i.createRef(n.key)},e.axis&&o(Fe,Object.assign({},n)),o(K,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!n.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":n.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:s.slotLaneContent,classNameGenerator:s.slotLaneClassNames,didMount:s.slotLaneDidMount,willUnmount:s.slotLaneWillUnmount}))}))}}class Qt extends D{constructor(){super(...arguments),this.rootElRef=E(),this.slatElRefs=new M}render(){let{props:e,context:t}=this;return o("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},o("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,o(Xt,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new Jt(new H(this.rootElRef.current,es(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function es(r,e){return e.map(t=>r[t.key])}function z(r,e){let t=[],s;for(s=0;s<e;s+=1)t.push([]);if(r)for(s=0;s<r.length;s+=1)t[r[s].col].push(r[s]);return t}function ne(r,e){let t=[];if(r){for(let s=0;s<e;s+=1)t[s]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let s of r.segs)t[s.col].segs.push(s)}else for(let s=0;s<e;s+=1)t[s]=null;return t}class ts extends D{render(){let{props:e}=this;return o(Me,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>Ge(e.hiddenSegs,e),defaultGenerator:ss},t=>o(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function ss(r){return r.shortText}function is(r,e,t){let s=new ke;e!=null&&(s.strictOrder=e),t!=null&&(s.maxStackCnt=t);let i=s.addSegs(r),n=ht(i),l=ns(s);return l=as(l,1),{segRects:ds(l),hiddenGroups:n}}function ns(r){const{entriesByLevel:e}=r,t=J((s,i)=>s+":"+i,(s,i)=>{let n=os(r,s,i),l=re(n,t),a=e[s][i];return[Object.assign(Object.assign({},a),{nextLevelNodes:l[0]}),a.thickness+l[1]]});return re(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function re(r,e){if(!r)return[[],0];let{level:t,lateralStart:s,lateralEnd:i}=r,n=s,l=[];for(;n<i;)l.push(e(t,n)),n+=1;return l.sort(rs),[l.map(ls),l[0][1]]}function rs(r,e){return e[1]-r[1]}function ls(r){return r[0]}function os(r,e,t){let{levelCoords:s,entriesByLevel:i}=r,n=i[e][t],l=s[e]+n.thickness,a=s.length,d=e;for(;d<a&&s[d]<l;d+=1);for(;d<a;d+=1){let c=i[d],f,u=ut(c,n.span.start,pt),p=u[0]+u[1],g=p;for(;(f=c[g])&&f.span.start<n.span.end;)g+=1;if(p<g)return{level:d,lateralStart:p,lateralEnd:g}}return null}function as(r,e){const t=J((s,i,n)=>W(s),(s,i,n)=>{let{nextLevelNodes:l,thickness:a}=s,d=a+n,c=a/d,f,u=[];if(!l.length)f=e;else for(let g of l)if(f===void 0){let m=t(g,i,d);f=m[0],u.push(m[1])}else{let m=t(g,f,0);u.push(m[1])}let p=(f-i)*c;return[f-p,Object.assign(Object.assign({},s),{thickness:p,nextLevelNodes:u})]});return r.map(s=>t(s,0,0)[1])}function ds(r){let e=[];const t=J((i,n,l)=>W(i),(i,n,l)=>{let a=Object.assign(Object.assign({},i),{levelCoord:n,stackDepth:l,stackForward:0});return e.push(a),a.stackForward=s(i.nextLevelNodes,n+i.thickness,l+1)+1});function s(i,n,l){let a=0;for(let d of i)a=Math.max(t(d,n,l),a);return a}return s(r,0,0),e}function J(r,e){const t={};return(...s)=>{let i=r(...s);return i in t?t[i]:t[i]=e(...s)}}function le(r,e,t=null,s=0){let i=[];if(t)for(let n=0;n<r.length;n+=1){let l=r[n],a=t.computeDateTop(l.start,e),d=Math.max(a+(s||0),t.computeDateTop(l.end,e));i.push({start:Math.round(a),end:Math.round(d)})}return i}function cs(r,e,t,s){let i=[],n=[];for(let c=0;c<r.length;c+=1){let f=e[c];f?i.push({index:c,thickness:1,span:f}):n.push(r[c])}let{segRects:l,hiddenGroups:a}=is(i,t,s),d=[];for(let c of l)d.push({seg:r[c.index],rect:c});for(let c of n)d.push({seg:c,rect:null});return{segPlacements:d,hiddenGroups:a}}const fs=P({hour:"numeric",minute:"2-digit",meridiem:!1});class Be extends D{render(){return o(Re,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:fs}))}}class gs extends D{constructor(){super(...arguments),this.sortEventSegs=x(ue)}render(){let{props:e,context:t}=this,{options:s}=t,i=s.selectMirror,n=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],l=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,s.eventOrder);return o(Ee,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},d=>o("div",{className:"fc-timegrid-col-frame"},o("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),o("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,l,!1,!1,!1)),o("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(n,{},Boolean(e.eventDrag),Boolean(e.eventResize),Boolean(i))),o("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),we(s)&&o(d,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,s,i,n){let{props:l}=this;return l.forPrint?Ge(e,l):this.renderPositionedFgSegs(e,t,s,i,n)}renderPositionedFgSegs(e,t,s,i,n){let{eventMaxStack:l,eventShortHeight:a,eventOrderStrict:d,eventMinHeight:c}=this.context.options,{date:f,slatCoords:u,eventSelection:p,todayRange:g,nowDate:m}=this.props,h=s||i||n,v=le(e,f,u,c),{segPlacements:y,hiddenGroups:b}=cs(e,v,d,l);return o(w,null,this.renderHiddenGroups(b,e),y.map(R=>{let{seg:S,rect:C}=R,L=S.eventRange.instance.instanceId,Le=h||Boolean(!t[L]&&C),je=j(C&&C.span),_e=!h&&C?this.computeSegHStyle(C):{left:0,right:0},qe=Boolean(C)&&C.stackForward>0,Ue=Boolean(C)&&C.span.end-C.span.start<a;return o("div",{className:"fc-timegrid-event-harness"+(qe?" fc-timegrid-event-harness-inset":""),key:L,style:Object.assign(Object.assign({visibility:Le?"":"hidden"},je),_e)},o(Be,Object.assign({seg:S,isDragging:s,isResizing:i,isDateSelecting:n,isSelected:L===p,isShort:Ue},T(S,g,m))))}))}renderHiddenGroups(e,t){let{extraDateSpan:s,dateProfile:i,todayRange:n,nowDate:l,eventSelection:a,eventDrag:d,eventResize:c}=this.props;return o(w,null,e.map(f=>{let u=j(f.span),p=hs(f.entries,t);return o(ts,{key:ft(gt(p)),hiddenSegs:p,top:u.top,bottom:u.bottom,extraDateSpan:s,dateProfile:i,todayRange:n,nowDate:l,eventSelection:a,eventDrag:d,eventResize:c})}))}renderFillSegs(e,t){let{props:s,context:i}=this,l=le(e,s.date,s.slatCoords,i.options.eventMinHeight).map((a,d)=>{let c=e[d];return o("div",{key:ye(c.eventRange),className:"fc-timegrid-bg-harness",style:j(a)},t==="bg-event"?o(pe,Object.assign({seg:c},T(c,s.todayRange,s.nowDate))):me(t))});return o(w,null,l)}renderNowIndicator(e){let{slatCoords:t,date:s}=this.props;return t?e.map((i,n)=>o(Y,{key:n,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(i.start,s)},isAxis:!1,date:s})):null}computeSegHStyle(e){let{isRtl:t,options:s}=this.context,i=s.slotEventOverlap,n=e.levelCoord,l=e.levelCoord+e.thickness,a,d;i&&(l=Math.min(1,n+(l-n)*2)),t?(a=1-l,d=n):(a=n,d=1-l);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:d*100+"%"};return i&&!e.stackForward&&(c[t?"marginLeft":"marginRight"]=10*2),c}}function Ge(r,{todayRange:e,nowDate:t,eventSelection:s,eventDrag:i,eventResize:n}){let l=(i?i.affectedInstances:null)||(n?n.affectedInstances:null)||{};return o(w,null,r.map(a=>{let d=a.eventRange.instance.instanceId;return o("div",{key:d,style:{visibility:l[d]?"hidden":""}},o(Be,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===s,isShort:!1},T(a,e,t))))}))}function j(r){return r?{top:r.start,bottom:-r.end}:{top:"",bottom:""}}function hs(r,e){return r.map(t=>e[t.index])}class us extends D{constructor(){super(...arguments),this.splitFgEventSegs=x(z),this.splitBgEventSegs=x(z),this.splitBusinessHourSegs=x(z),this.splitNowIndicatorSegs=x(z),this.splitDateSelectionSegs=x(z),this.splitEventDrag=x(ne),this.splitEventResize=x(ne),this.rootElRef=E(),this.cellElRefs=new M}render(){let{props:e,context:t}=this,s=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,n=this.splitFgEventSegs(e.fgEventSegs,i),l=this.splitBgEventSegs(e.bgEventSegs,i),a=this.splitBusinessHourSegs(e.businessHourSegs,i),d=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),c=this.splitDateSelectionSegs(e.dateSelectionSegs,i),f=this.splitEventDrag(e.eventDrag,i),u=this.splitEventResize(e.eventResize,i);return o("div",{className:"fc-timegrid-cols",ref:this.rootElRef},o("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,o("tbody",{role:"presentation"},o("tr",{role:"row"},e.axis&&o("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},o("div",{className:"fc-timegrid-col-frame"},o("div",{className:"fc-timegrid-now-indicator-container"},typeof s=="number"&&o(Y,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:s},isAxis:!0,date:e.nowDate})))),e.cells.map((p,g)=>o(gs,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:n[g],bgEventSegs:l[g],businessHourSegs:a[g],nowIndicatorSegs:d[g],dateSelectionSegs:c[g],eventDrag:f[g],eventResize:u[g],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new H(this.rootElRef.current,ps(this.cellElRefs.currentMap,e.cells),!0,!1))}}function ps(r,e){return e.map(t=>r[t.key])}class ms extends k{constructor(){super(...arguments),this.processSlotOptions=x(ys),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:s}=this.state;if(t&&s){if(e.time){let i=s.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),t(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return o("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},o(Qt,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),o(us,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:s,options:i}=this.context,{colCoords:n}=this,{dateProfile:l}=this.props,{slatCoords:a}=this.state,{snapDuration:d,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),f=n.leftToIndex(e),u=a.positions.topToIndex(t);if(f!=null&&u!=null){let p=this.props.cells[f],g=a.positions.tops[u],m=a.positions.getHeight(u),h=(t-g)/m,v=Math.floor(h*c),y=u*c+v,b=this.props.cells[f].date,R=U(l.slotMinTime,dt(d,y)),S=s.add(b,R),C=s.add(S,d);return{dateProfile:l,dateSpan:Object.assign({range:{start:S,end:C},allDay:!1},p.extraDateSpan),dayEl:n.els[f],rect:{left:n.lefts[f],right:n.rights[f],top:g,bottom:g+m},layer:0}}return null}}function ys(r,e){let t=e||r,s=Z(r,t);return s===null&&(t=r,s=1),{snapDuration:t,snapsPerSlot:s}}class vs extends Te{sliceRange(e,t){let s=[];for(let i=0;i<t.length;i+=1){let n=De(e,t[i]);n&&s.push({start:n.start,end:n.end,isStart:n.start.valueOf()===e.start.valueOf(),isEnd:n.end.valueOf()===e.end.valueOf(),col:i})}return s}}class bs extends k{constructor(){super(...arguments),this.buildDayRanges=x(Ss),this.slicer=new vs,this.timeColsRef=E()}render(){let{props:e,context:t}=this,{dateProfile:s,dayTableModel:i}=e,{nowIndicator:n,nextDayThreshold:l}=t.options,a=this.buildDayRanges(i,s,t.dateEnv);return o($,{unit:n?"minute":"day"},(d,c)=>o(ms,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,s,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:s,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:d,nowIndicatorSegs:n&&this.slicer.sliceNowDate(d,s,l,t,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Ss(r,e,t){let s=[];for(let i of r.headerDates)s.push({start:t.add(i,e.slotMinTime),end:t.add(i,e.slotMaxTime)});return s}const oe=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function xs(r,e,t,s,i){let n=new Date(0),l=r,a=G(0),d=t||Rs(s),c=[];for(;N(l)<N(e);){let f=i.add(n,l),u=Z(a,d)!==null;c.push({date:f,time:l,key:f.toISOString(),isoTimeStr:ot(f),isLabeled:u}),l=U(l,s),a=U(a,s)}return c}function Rs(r){let e,t,s;for(e=oe.length-1;e>=0;e-=1)if(t=G(oe[e]),s=Z(t,r),s!==null&&s>1)return t;return r}class Cs extends Yt{constructor(){super(...arguments),this.buildTimeColsModel=x(ws),this.buildSlatMetas=x(xs)}render(){let{options:e,dateEnv:t,dateProfileGenerator:s}=this.context,{props:i}=this,{dateProfile:n}=i,l=this.buildTimeColsModel(n,s),a=this.allDaySplitter.splitProps(i),d=this.buildSlatMetas(n.slotMinTime,n.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,f=!c,u=c,p=e.dayHeaders&&o(he,{dates:l.headerDates,dateProfile:n,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),g=e.allDaySlot!==!1&&(h=>o(Ae,Object.assign({},a.allDay,{dateProfile:n,dayTableModel:l,nextDayThreshold:e.nextDayThreshold,tableMinWidth:h.tableMinWidth,colGroupNode:h.tableColGroupNode,renderRowIntro:f?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:h.clientWidth,clientHeight:h.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),m=h=>o(bs,Object.assign({},a.timed,{dayTableModel:l,dateProfile:n,axis:f,slotDuration:e.slotDuration,slatMetas:d,forPrint:i.forPrint,tableColGroupNode:h.tableColGroupNode,tableMinWidth:h.tableMinWidth,clientWidth:h.clientWidth,clientHeight:h.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:h.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return u?this.renderHScrollLayout(p,g,m,l.colCnt,c,d,this.state.slatCoords):this.renderSimpleLayout(p,g,m)}}function ws(r,e){let t=new Se(r.renderRange,e);return new xe(t,!1)}const Es={allDaySlot:Boolean};var Ds='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';Pe(Ds);var ks=Ne({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:Es,views:{timeGrid:{component:Cs,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});const Ts={components:{FullCalendar:mt},data(){return{calendarOptions:{plugins:[jt,ks],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialView:"dayGridMonth",weekends:!0,displayEventTime:!1,locale:yt,eventDidMount:r=>{if(r.event.extendedProps.status==="done"){const e=r.el.style;e.backgroundColor="#faede2";const t=r.el.getElementsByClassName("fc-daygrid-event-dot")[0];t&&(t.style.borderColor="#f1675d")}},eventClick:r=>{this.$router.push(`/JoinDetail/id=${r.event.id}`)},events:[{title:"開會",start:new Date,borderColor:"#f1675d"}],editable:!0}}},computed:{...Ve(Q,["restructureActivitiesList"]),getMemberEvent(){const r=parseInt(this.getUserId(),10);return this.restructureActivitiesList.filter(s=>s.participantsId.includes(r)).map(s=>{var d;const n=`${new Date(s.originDate).toISOString().split("T")[0]}T${(d=s.startTime)==null?void 0:d.time}:00`,l=new Date(n).getTime()-new Date().getTime()<0?"done":"";return{title:s.title,id:s.id,start:n,borderColor:"#36D488",extendedProps:{status:l}}})}},methods:{...X(Q,["getActivities","getOrders"]),...X($e,["getUserId"])},watch:{getMemberEvent(r){this.calendarOptions.events=r}},mounted(){this.getActivities(),this.getOrders()}};function Ms(r,e,t,s,i,n){const l=de("FullCalendar",!0);return ce(),fe(l,{options:i.calendarOptions},null,8,["options"])}const Ps=ae(Ts,[["render",Ms]]),Ns={name:"MemberCalendarView",components:{FullCalendar:Ps},data(){return{}}};function Is(r,e,t,s,i,n){const l=de("FullCalendar");return ce(),fe(l)}const Os=ae(Ns,[["render",Is]]);export{Os as default};
