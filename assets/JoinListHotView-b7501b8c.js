import{J as L}from"./JoinCardRow-f834328c.js";import{L as P}from"./LeafletMap-8281a880.js";import{_ as x,G as v,s as l,a as n,b as e,d as o,F as w,C as A,t as C,r as a,o as r,w as I}from"./index-1031d0a2.js";import{j as g}from"./joinActivitiesStore-e4b70ed2.js";import{P as k}from"./PaginationComponent-45a0b6d4.js";import"./leaflet-src-df42830d.js";const J={name:"JoinListHotView",components:{JoinCardRow:L,LeafletMap:P,PaginationComponent:k},data(){return{userId:null,currentPage:1}},computed:{...v(g,["restructureActivitiesList"]),hotActivitiesList:({restructureActivitiesList:t,arrangePage:c})=>{const p=t.sort((d,s)=>s.numParticipants-d.numParticipants);return c(p)}},methods:{...l(g,["getOrders","getActivities","changePage","arrangePage"]),...l(C,["getUserId"])},watch:{$route(t){this.currentPage=t.params.page,this.changePage(t.params.page)}},mounted(){this.getActivities(),this.getOrders(),this.changePage(this.$route.params.page),this.userId=this.getUserId()}},b={class:"pt-4 pb-20 md:pt-10"},j={class:"container"},V=e("h2",{class:"mb-6 text-center text-2xl md:mb-10 md:text-start"},"熱門揪團",-1),B={class:"grid gap-8 md:grid-cols-12 lg:gap-0"},H={class:"col-span-7 flex flex-col gap-6"},M={class:"sticky top-[286px] col-span-4 col-end-13 hidden h-[400px] md:flex"};function R(t,c,p,d,s,m){const u=a("PaginationComponent"),_=a("join-card-row"),h=a("RouterLink"),f=a("LeafletMap");return r(),n("main",b,[e("div",j,[V,o(u,{currentPage:s.currentPage,pageTotal:m.hotActivitiesList.pageTotal,pageUrl:"/JoinList/Hot/",class:"mb-4"},null,8,["currentPage","pageTotal"]),e("section",B,[e("ul",H,[(r(!0),n(w,null,A(m.hotActivitiesList.list,i=>(r(),n("li",{key:i.id},[o(h,{to:`/JoinDetail/id=${i.id}`},{default:I(()=>[o(_,{activity:i,userId:s.userId},null,8,["activity","userId"])]),_:2},1032,["to"])]))),128))]),e("aside",M,[o(f)])])])])}const N=x(J,[["render",R]]);export{N as default};
