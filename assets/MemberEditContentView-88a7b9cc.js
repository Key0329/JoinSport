import{_ as m,a as h,d as c,b as o,F as _,r as l,o as E}from"./index-4c0e68b8.js";const{VITE_URL:d}={VITE_URL:"https://join-sport-server-vercel.vercel.app",VITE_PATH:"key0329",VITE_TEXT:"這是產品的環境",VITE_MAP_KEY:"AIzaSyAScKOJBsEFvLrg4YGx5ticXsBzFYZPATw",VITE_MAP_URL:"https://maps.googleapis.com/maps/api/geocode/json",BASE_URL:"/JoinSport/",MODE:"production",DEV:!1,PROD:!0},v={name:"MemberEditContentView",data(){return{editorValue:"",quillEditor:null}},methods:{getActivity(){const{id:a}=this.$route.params,t=`${d}/activities/${a}`;this.$http.get(t).then(e=>{this.editorValue=e.data.content}).catch(e=>{const i=e.response.statusText;this.$toast.add({severity:"error",detail:`${i} 取得活動資訊失敗`,life:1e3,contentStyleClass:"custom-toast-danger"})})},updateActivityContent(){const{id:a}=this.$route.params,t=`${d}/activities/${a}`,e={content:this.editorValue};this.$http.patch(t,e).then(()=>{this.$toast.add({severity:"success",detail:"修改成功",life:1e3})}).catch(i=>{const n=i.response.statusText;this.$toast.add({severity:"error",detail:`${n} 更新活動資訊失敗`,life:1e3,contentStyleClass:"custom-toast-danger"})})},cancelEdit(){this.getActivity()}},mounted(){this.getActivity()}},y={class:"py-10"},V={class:"mb-10 flex flex-col items-center"},g={class:"mt-10 flex gap-4"};function b(a,t,e,i,n,r){const p=l("PToast"),u=l("PEditor");return E(),h(_,null,[c(p),o("section",y,[o("div",V,[c(u,{modelValue:n.editorValue,"onUpdate:modelValue":t[0]||(t[0]=s=>n.editorValue=s),editorStyle:"height: 320px",placeholder:"請輸入簡介"},null,8,["modelValue"])]),o("div",g,[o("button",{type:"button",class:"btn btn-primary ml-auto",onClick:t[1]||(t[1]=(...s)=>r.updateActivityContent&&r.updateActivityContent(...s))}," 確認 "),o("button",{type:"button",onClick:t[2]||(t[2]=(...s)=>r.cancelEdit&&r.cancelEdit(...s)),class:"btn border border-primary-01 hover:bg-primary-01 hover:text-white"}," 取消 ")])])],64)}const f=m(v,[["render",b]]);export{f as default};
